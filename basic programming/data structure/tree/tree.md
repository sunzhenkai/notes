---
title: 树
categories: 
  - [数据结构, 树]
tags:
  - 树
  - 数据结构
date: "2021-01-16T00:00:00+08:00"
update: "2021-01-16T00:00:00+08:00"
---

# 定义

# 生成

# 遍历

## 前序遍历

## 中序遍历

## 后续遍历

## 深度优先遍历（DFS）

## 广度优先遍历（BFS）

# 应用

## 红黑树

R-B Tree，全称是Red-Black Tree，又称为“红黑树”，它一种特殊的二叉查找树。红黑树的每个节点上都有存储位表示节点的颜色，可以是红(Red)或黑(Black)，红黑树有如下特性。

- 每个节点或者是黑色，或者是红色。
- 根节点是黑色。
- 每个叶子节点（NIL）是黑色。 [注意：这里叶子节点，是指为空(NIL或NULL)的叶子节点！]
- 如果一个节点是红色的，则它的子节点必须是黑色的。
- 从一个节点到该节点的子孙节点的所有路径上包含相同数目的黑节点。

红黑树是一种特化的AVL树（[平衡二叉树](https://baike.baidu.com/item/平衡二叉树/10421057)），都是在进行插入和删除操作时通过特定操作保持二叉查找树的平衡，从而获得较高的查找性能。它虽然是复杂的，但它的最坏情况运行时间也是非常良好的，并且在实践中非常高效。

**应用**

- Java 中的 TreeSet、TreeMap
- C++ STL 中的 set、map
- Linux 虚拟内存的管理

## 搜索二叉树（BST）

二叉查找树实际上是数据域有序的二叉树，即对树上的每个结点，都满足其左子树上所有结点的数据域均小于或等于根结点的数据域，右子树上所有结点的数据域均大于根结点的数据域。

## 平衡二叉树（AVL）

平衡二叉树是由前苏联的两位数学家G.M.Adelse-Velskil和E.M.Landis提出，因此一般也称作AVL树，AVL树本质还是一棵二叉查找树，只是在其基础上增加了“平衡”的要求。所谓平衡是指，对AVL树的任意结点来说，其左子树与右子树的高度之差的绝对值不超过1，其中左子树与右子树的高度因子之差称为平衡因子。

## B/B+/B* 树

### B树

B 树是一种多路搜索树（非二叉树），其具有如下特点。

- 定义任意非叶子结点最多只有M个儿子；且M>2；

- 根结点的儿子数为[2, M]；

- 除根结点以外的非叶子结点的儿子数为[M/2, M]；

- 每个结点存放至少M/2-1（取上整）和至多M-1个关键字；（至少2个关键字）

- 非叶子结点的关键字个数=指向儿子的指针个数-1；

- 非叶子结点的关键字：K[1], K[2], …, K[M-1]；且K[i] < K[i+1]；

- 非叶子结点的指针：P[1], P[2], …, P[M]；其中P[1]指向关键字小于K[1]的

  子树，P[M]指向关键字大于K[M-1]的子树，其它P[i]指向关键字属于(K[i-1], K[i])的子树；

- 所有叶子结点位于同一层；

# 问题

## B树和B+树的区别

- B 树每个节点都保存key和data，B+ 树的data存储在叶子节点上
  - 非叶子节点不存储数据，这样一个节点可存储更多key，使树更矮，减少查找 / IO次数
- 树的所有叶节点构成一个有序链表，可以按照key的排序次序遍历全部数据
  - 由于数据顺序排列且相连，便于区间查找和搜索

## 索引为什么使用B+树，而不是哈希表或B树

对应磁盘中的数据读取，应尽量优化磁盘访问次序。磁盘读取是按块读取的，充分利用这个原理，可减少磁盘访问次数。

索引使用B+树，相对于B树来说，非叶子结点保存数据更多，一次读取磁盘，可便利的key范围更广，所以理论上度写磁盘次数更少。

B+树，相对于哈希表来说，哈希索引也不支持多列联合索引的最左匹配规则，且无法按key的范围查找。